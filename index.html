<!DOCTYPE html>
<html>
<head>
  <title>Просмотр файла PDF</title>
  <script src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>
  <style>
    #pdfViewer {
      width: 100%;
      height: 600px;
    }
    
    .button-container {
      margin-top: 10px;
      text-align: center;
    }
    
    .button-container button {
      margin-right: 5px;
      visibility: hidden;
    }
    
    .button-container:hover button {
      visibility: visible;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div id="pdfViewer"></div>
  
  <div class="button-container">
    <button id="prevButton" class="hidden">Предыдущая страница</button>
    <button id="nextButton" class="hidden">Следующая страница</button>
  </div>

  <script>
    // Получаем ссылку на файл info.pdf
    const url = 'exam/info.pdf';

    let currentPage = 1;
    let pdfInstance = null;

    // Инициализируем PDF.js и отображаем файл
    pdfjsLib.getDocument(url).promise.then(pdf => {
      pdfInstance = pdf;
      renderPage(currentPage);
    });

    function renderPage(pageNumber) {
      pdfInstance.getPage(pageNumber).then(page => {
        const canvas = document.createElement('canvas');
        const context = canvas.getContext('2d');

        const viewport = page.getViewport({ scale: 1 });
        canvas.width = viewport.width;
        canvas.height = viewport.height;

        const renderContext = {
          canvasContext: context,
          viewport: viewport
        };

        page.render(renderContext).promise.then(() => {
          document.getElementById('pdfViewer').innerHTML = '';
          document.getElementById('pdfViewer').appendChild(canvas);

          updateButtons();
        });
      });
    }

    function updateButtons() {
      const prevButton = document.getElementById('prevButton');
      const nextButton = document.getElementById('nextButton');

      if (currentPage === 1) {
        prevButton.classList.add('hidden');
      } else {
        prevButton.classList.remove('hidden');
      }

      if (currentPage === pdfInstance.numPages) {
        nextButton.classList.add('hidden');
      } else {
        nextButton.classList.remove('hidden');
      }
    }

    document.getElementById('prevButton').addEventListener('click', () => {
      if (currentPage > 1) {
        currentPage--;
        renderPage(currentPage);
      }
    });

    document.getElementById('nextButton').addEventListener('click', () => {
      if (currentPage < pdfInstance.numPages) {
        currentPage++;
        renderPage(currentPage);
      }
    });
  </script>
</body>
</html>
